# Как всё настроить?
## NVM

Для начала нужно установить NVM

NVM (Node version manager) - это рекомендуемый способ установки Node.js. Он позволяет иметь несколько версий Node.js на одном компьютере и делает установку любой версии очень простой.

[NVM on GitHub](https://github.com/nvm-sh/nvm)

Если вы используете MacOS или Linux, то выполнить установку можно, скопировав эту строку в терминал
```sh
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
```

Существует аналогичная программа и для Windows. [nvm-windows on GitHub](https://github.com/coreybutler/nvm-windows)

Подробности установки для всех платформ и командных оболочек можно найти в репозиториях этих проектов на GitHub.

## Установка

Также для установки NVM можно использовать и пакетный менеджер, например для пользователей Homebrew и MacOS это будет
```sh
brew install nvm
```

После установки нужно сконфигурировать NVM, об этом сообщит установщик.

В конфигурационный файл .bash_profile, .bashrc или подобный добавим строки, предложенные установщиком (их также можно найти в описании репозитория)
```sh
export NVM_DIR="$HOME/.nvm"
  [ -s "/usr/local/opt/nvm/nvm.sh" ] && . "/usr/local/opt/nvm/nvm.sh"
  [ -s "/usr/local/opt/nvm/etc/bash_completion.d/nvm" ] && . "/usr/local/opt/nvm/etc/bash_completion.d/nvm"
```
и перезагрузим конфигурационный файл.

Установим Node.js. Последняя стабильная версия на данный момент это 12.16.
```sh
nvm install 12.16
```

## Создание проекта

Создадим директорию для проекта
```sh
mkdir calendar
cd calendar
```

и инициализируем его, выполнив
```sh
npm init
```

NPM задаст нам несколько вопросов о проекте.

После он создаст файл `package.json` с информацией о проекте.
Выполним
```sh
npm install
```
чтобы сгенерировать файл `package-lock.json`. Пока он не содержит никакой информации.
Также я создал пустой файл `index.js`.

## Установка Jest

Для тестирования мы будем использовать фреймворк [Jest](https://jestjs.io).
Кажется, сейчас он самый популярный, но выбор фреймворка не так важен.

Посмотрим на документацию Jest. Чтобы установить Jest, выполним
```sh
npm install --save-dev jest
```
Укажем какую команду надо выполнять NPM, когда мы запускаем тесты.
Добавим в секцию `scripts` строку
```json
"test": "jest"
```
в файле `package.json`.

## Первый тест

Возьмём пример из документации. В файл `src/sum.js` поместим функцию sum
```javascript
function sum(a, b) {
  return a + b;
}
module.exports = sum;
```

В файл `src/__tests__/sum.test.js` поместим тест, исправив импортирование.
```javascript
const sum = require('../sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```
Примерно такая иерархия файлов принята в Jest.

## Запуск

Попробуем выполнить тесты, запустив
```sh
npm test
```

Если мы увидим зелёную надпись PASS и один запущенный тест, то всё работает.

Попробуем сломать тест и запустить тесты заново.
Мы должны увидеть сообщение об ошибке. Это будет означать, что всё настроено правильно.
